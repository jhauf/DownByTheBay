{"version":3,"sources":["webpack:///webpack/bootstrap 1de5309e5d4b74045ee0","webpack:///./frontend/main.js","webpack:///./frontend/places.js","webpack:///./frontend/marker.js"],"names":["document","addEventListener","window","map","google","maps","Map","getElementById","center","lat","lng","zoom","backgroundColor","places","input","value","search","e","keyCode","Places","markers","infowindow","InfoWindow","bind","clearResults","clearMarkers","setMapOnAll","callback","showMarkers","showResults","findMarker","setListener","inputText","service","starting","LatLng","request","location","radius","query","PlacesService","textSearch","searchResults","innerHTML","i","length","setMap","results","status","bounds","LatLngBounds","PlacesServiceStatus","OK","place","push","marker","createMarker","extend","geometry","fitBounds","rating","stars","j","address","formatted_address","replace","open","opening_hours","open_now","name","querySelectorAll","mark","setContent","title","forEach","index","currentTarget","id","module","exports","Marker","addWindowListener","setWindow","image","url","size","Size","origin","Point","anchor","scaledSize","position","icon","animation","Animation","DROP","close","event","addListener"],"mappings":"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","file":"./frontend/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1de5309e5d4b74045ee0","import Places from './places';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    window.map = new google.maps.Map(document.getElementById('map'), {\n      center: {lat: 37.78, lng: -122.45},\n      zoom: 13,\n      backgroundColor: 'hsla(0,0%,0%,0)'\n    });\n\n  let places = new Places;\n  document.getElementById(\"enter\").addEventListener(\"click\", e => {\n    let input = document.getElementById('input').value;\n    places.search(input);\n  });\n\n  document.addEventListener(\"keypress\", (e) => {\n    if (e.keyCode === 13) {\n      let input = document.getElementById('input').value;\n      places.search(input);\n    }\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/main.js","import Marker from './marker';\n\nclass Places {\n  constructor() {\n    this.markers = [];\n    this.places = [];\n    this.infowindow = new google.maps.InfoWindow();\n    this.search = this.search.bind(this);\n    this.clearResults = this.clearResults.bind(this);\n    this.clearMarkers = this.clearMarkers.bind(this);\n    this.setMapOnAll = this.setMapOnAll.bind(this);\n    this.callback = this.callback.bind(this);\n    this.showMarkers = this.showMarkers.bind(this);\n    this.showResults = this.showResults.bind(this);\n    this.findMarker = this.findMarker.bind(this);\n    this.setListener = this.setListener.bind(this);\n  }\n\nsearch(inputText) {\n  let service;\n  this.clearResults();\n  this.clearMarkers();\n  let starting = new google.maps.LatLng(37.78,-122.45);\n  let request = {\n     location: starting,\n     radius: '200',\n     query: `${inputText}`\n  };\n  service = new google.maps.places.PlacesService(window.map);\n  service.textSearch(request, this.callback);\n}\n\nclearResults() {\n  this.places = [];\n  let searchResults = document.getElementById('results');\n  searchResults.innerHTML = \"\";\n}\n\nclearMarkers() {\n  this.setMapOnAll(null);\n  this.markers = [];\n}\n\nsetMapOnAll(map) {\n  for (var i = 0; i < this.markers.length; i++) {\n    this.markers[i].setMap(map);\n  }\n}\n\ncallback(results, status) {\n  let bounds = new google.maps.LatLngBounds();\n  if (status === google.maps.places.PlacesServiceStatus.OK) {\n    for (let i = 0; i < results.length; i++) {\n      let place = results[i];\n      this.places.push(place);\n      let marker = new Marker(place, i, this.infowindow);\n      marker = marker.createMarker();\n      this.markers.push(marker);\n      bounds.extend(place.geometry.location);\n    }\n  }\n  window.map.fitBounds(bounds);\n  this.showMarkers();\n  this.showResults();\n  this.setListener();\n}\n\nshowMarkers() {\n  this.setMapOnAll(window.map);\n}\n\n showResults() {\n   let searchResults = document.getElementById('results');\n   searchResults.innerHTML = \"\";\n   let rating = \"\";\n   for (var i = 0; i < this.places.length; i++) {\n     let place = this.places[i];\n     rating = place.rating ? place.rating : 0;\n     let stars = \"\"\n     for (var j = 0; j < rating; j++) {\n       stars += \"☆\";\n     }\n     let address = place.formatted_address.replace(\", United States\", \"\");\n     let open = place.opening_hours && place.opening_hours.open_now === true ? \"Open Now\" : \"Closed\";\n     searchResults.innerHTML += '<div class=\"eachResult\" id= ' + i + '>' +\n     '<div id=\"name\">' + place.name +'</div>' +\n     '<div id= \"addr\">' + address +'</div>' +\n     '<div id =\"rating\">' + stars + '</div>' +\n     '<div id =\"open\">' + open + '</div> </div>'\n   }\n }\n\n setListener(){\n   let results = document.querySelectorAll(\".eachResult\");\n\n   for (let j = 0; j < results.length; j++) {\n     results[j].addEventListener(\"mouseover\", (e) => {\n       let mark = this.findMarker(e);\n       this.infowindow.setContent(mark.title);\n       this.infowindow.open(window.map, mark);\n     });\n   }\n }\n\n findMarker(e) {\n   let mark;\n   this.markers.forEach(marker => {\n     if(marker.index == e.currentTarget.id) {\n       mark = marker;\n     }\n   });\n   return mark;\n }\n\n }\n\n module.exports = Places;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/places.js","class Marker {\n  constructor(place, index, infowindow) {\n    this.index = index;\n    this.place = place;\n    this.infowindow = infowindow;\n    this.createMarker = this.createMarker.bind(this);\n    this.addWindowListener = this.addWindowListener.bind(this);\n    this.setWindow = this.setWindow.bind(this);\n  }\n\n  createMarker() {\n   let image = {\n      url: \"./app/assets/images/pin.png\",\n      size: new google.maps.Size(35, 35),\n      origin: new google.maps.Point(0, 0),\n      anchor: new google.maps.Point(0, 0),\n      scaledSize: new google.maps.Size(35, 35)\n    };\n\n   let marker = new google.maps.Marker({\n     map: window.map,\n     position: this.place.geometry.location,\n     icon: image,\n     title: this.place.name,\n     animation: google.maps.Animation.DROP,\n     index: this.index\n  });\n    this.addWindowListener(marker);\n    return marker;\n  }\n\n  setWindow(marker, e) {\n    if (!marker.open) {\n      this.infowindow.setContent(this.place.name);\n      this.infowindow.open(window.map, marker);\n      marker.open = true;\n    } else {\n      this.infowindow.close();\n      marker.open = false;\n    }\n  }\n\n  addWindowListener(marker) {\n    google.maps.event.addListener(marker, 'click', (e) => {\n      this.setWindow(marker, e);\n    });\n\n    google.maps.event.addListener(marker, 'mouseover', (e) => {\n      this.setWindow(marker, e);\n    });\n  }\n}\n\nmodule.exports = Marker;\n\n\n\n// WEBPACK FOOTER //\n// ./frontend/marker.js"],"sourceRoot":""}